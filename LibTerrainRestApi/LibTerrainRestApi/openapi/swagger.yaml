openapi: 3.0.2
info:
  title: Building data link API
  version: 1.0.0

servers:
  - url: http://localhost:5000/api/v1.0

# Paths supported by the server application
# Return the maximum theoretical speed (if possible) of the radio data connection established between two points passed as input in a GeoJson file
paths:
  /link:
    post:
      operationId: LibTerrainRestApi.datalink.compute_link
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FeatureCollection'

      responses:
        '200':
          description: Data found and computed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkData'

# Definizione GeoJSON https://gist.github.com/codan-telcikt/e1d59ccc9a3af83e083f1a514c84026c
components:
	schemas:
		LinkData:
			type: object
			description: Link data between two 3D points
			properties:
				points:
					$ref: '#/components/schemas/FeatureCollection'
               #TODO: aggiungere ulteriori dati


		FeatureCollection:
			type: object
			description: GeoJSon Feature collection
			properties:
				type:
					type: string
					enum:
						- FeatureCollection
				features:
					type: array
					items:
						$ref: '#/components/schemas/Feature'

		Feature:
			type: object
			description: GeoJSon Feature
			properties:
				type:
					type: string
					enum:
						- Feature
				geometry:
					$ref: '#/components/schemas/Geometry'
				properties:
					type: object

		Geometry:
			type: object
			description: GeoJSon geometry
			properties:
				type:
					type: string
					enum:
						- Point
					description: the geometry type
				coordinates:
					type: array
					minItems: 3
					maxItems: 3
					items:
						type: number